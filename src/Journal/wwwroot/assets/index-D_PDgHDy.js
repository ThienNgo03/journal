import{f as x,u as I,j as e,B as g,r as d}from"./index-Jes1nCj3.js";import{D as S,a as w,E as M,b as P,c as C,d as N,e as D,f as u,u as p,g as y,R as b,P as z,h,i as T,j as k,k as E,l as G,m as B,B as L,n as m,T as A,o as R,p as j,q as f}from"./pagination-BIzHvlZv.js";import{u as V}from"./get-muscle-B6cgO4S7.js";import{I as U}from"./input-Ch21jCgc.js";import"./getErrorMessage-DVxqjZy-.js";import"./index-otjVXVq-.js";function W(){const[a]=x(),n=q(a),{data:s,refetch:r,isLoading:t}=V(n);return{data:s,refetch:r,isLoading:t}}function q(a){const n=a.get("pageIndex"),s=a.get("pageSize");return{pageIndex:n?parseInt(n,10)-1:0,pageSize:s?parseInt(s,10):20,name:a.get("searchTerm")||void 0}}function F({data:a}){const n=I();return e.jsxs(S,{children:[e.jsx(w,{asChild:!0,children:e.jsx(g,{size:"icon",variant:"ghost",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsxs(P,{className:"w-32",align:"start",children:[e.jsx(C,{className:"font-semibold",children:"Actions"}),e.jsx(N,{}),e.jsxs(D,{children:[e.jsx(u,{onClick:()=>navigator.clipboard.writeText(a.id),children:"Copy ID"}),e.jsx(u,{onClick:()=>n(`/muscles/${a.id}`),children:"Edit"}),e.jsx(u,{className:"group text-red-400",onClick:()=>alert("Delete "+a.id),children:e.jsx("span",{className:"group-hover:text-red-500",children:"Delete"})})]})]})]})}function H({refetch:a}){const n=I(),{update:s}=p(),[r,t]=d.useState(""),i=o=>{t(o),c(o)},c=d.useMemo(()=>y(o=>{s({searchTerm:o})},700),[s]);return d.useEffect(()=>()=>{c.cancel()},[c]),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(U,{placeholder:"Search muscles...",className:"max-w-sm",value:r,onChange:o=>i(o.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{variant:"outline",onClick:()=>a(),children:[e.jsx(b,{className:"h-4 w-4"}),"Refresh"]}),e.jsxs(g,{onClick:()=>n("/muscles/create"),children:[e.jsx(z,{className:"h-4 w-4"}),"Create"]})]})]})}function _({totalItems:a}){const[n]=x(),{update:s}=p(),r=parseInt(n.get("pageSize")||"20",10),t=parseInt(n.get("pageIndex")||"1",10),i=d.useMemo(()=>Math.ceil(a/r),[a,r]),c=d.useMemo(()=>Array.from({length:i},(o,l)=>e.jsx(h,{children:e.jsx(T,{className:"cursor-pointer",onClick:()=>s({pageIndex:(l+1).toString()}),isActive:t===l+1,children:l+1})},l)),[t,i,s]);return e.jsx(k,{children:e.jsxs(E,{children:[e.jsx(h,{children:e.jsx(G,{className:"cursor-pointer",onClick:()=>s({pageIndex:Math.max(t-1,1).toString()})})}),c,e.jsx(h,{children:e.jsx(B,{className:"cursor-pointer",onClick:()=>s({pageIndex:Math.min(t+1,i).toString()})})})]})})}const $=[{field:"id",minWidth:200},{field:"name",width:150,flex:1},{field:"createdDate",width:150,valueFormatter:a=>m(a.value,"dd/MM/yyyy")},{field:"lastUpdated",width:150,valueFormatter:a=>m(a.value,"dd/MM/yyyy")},{field:"createdById",minWidth:200},{field:"updatedById",minWidth:200},{colId:"actions",headerName:"Actions",width:100,cellRenderer:F}],v={pageIndex:1,pageSize:20};function J(){const[a]=x(),{update:n}=p(),{data:s,refetch:r,isLoading:t}=W();return d.useEffect(()=>{const i=a.get("pageIndex"),c=a.get("pageSize");n({pageIndex:i??v.pageIndex.toString(),pageSize:c??v.pageSize.toString()})},[]),e.jsxs("div",{children:[e.jsx(H,{refetch:r}),e.jsx("div",{className:"h-[calc(100vh-210px)] my-2",children:e.jsx(L,{data:s?.items||[],isLoading:t,colDefs:$,rowHeight:80})}),e.jsx(_,{totalItems:s?.all||0})]})}function ee(){return e.jsx("div",{children:e.jsxs(A,{defaultValue:"data",children:[e.jsxs(R,{children:[e.jsx(j,{value:"data",children:"Data"}),e.jsx(j,{value:"schema",children:"Schema"})]}),e.jsx(f,{value:"data",children:e.jsx(J,{})}),e.jsx(f,{value:"schema",children:"Data Schema"})]})})}export{ee as default};
