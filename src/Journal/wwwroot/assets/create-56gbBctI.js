import{u as l,j as e,S as u,t as d,B as i}from"./index-Jes1nCj3.js";import{u as x,a as f,o as j,s as p,F as h,b as g,c as b,d as N,e as F,f as v}from"./zod-CLqwLZrQ.js";import{I as y}from"./input-Ch21jCgc.js";import{p as S}from"./index-otjVXVq-.js";import{u as w}from"./useMutation-DXhFq-E6.js";const C=j({name:p().min(1,"Name is required")});function E(){const s={name:""};return{form:x({resolver:f(C),defaultValues:s})}}async function M(s){const t=await S.post("/muscles",s);if(t.status!==201)throw new Error(`Error creating muscle: ${t.statusText}`);return t.data}function I(){return w({mutationFn:M,mutationKey:["create-muscle"]})}function P(){const{form:s}=E(),{mutate:t,isPending:a}=I(),o=l();function c(r){t(r,{onSuccess(){o(-1)},onError(n){d.error("Error creating muscle",{description:n instanceof Error?n.message:"Unknown error"})}})}function m(){s.reset()}return e.jsxs(e.Fragment,{children:[a&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx(u,{className:"size-8 text-primary"}),e.jsx("span",{className:"text-primary",children:"Submitting..."})]})]}),e.jsx(h,{...s,children:e.jsx("form",{id:"create",onSubmit:s.handleSubmit(c),onReset:m,className:"space-y-4 grid grid-cols-2 gap-x-4",children:e.jsx(g,{control:s.control,name:"name",render:({field:r})=>e.jsxs(b,{className:"self-start",children:[e.jsxs(N,{children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{children:e.jsx(y,{disabled:a,...r})}),e.jsx(v,{})]})})})})]})}function q(){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Create Muscle Page"}),e.jsxs("div",{children:[e.jsx(i,{form:"create",type:"reset",variant:"outline",children:"Reset"}),e.jsx(i,{form:"create",type:"submit",className:"ml-2",children:"Submit"})]})]}),e.jsx(P,{})]})}export{q as default};
